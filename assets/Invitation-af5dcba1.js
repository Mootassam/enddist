import{u as t,i as g,r as p,h,j as e,M as m,C as _}from"./index-8b8b7948.js";import{S as f}from"./SubHeader-f8db0a6f.js";import{u as C}from"./useDispatch-f8abbc8a.js";function N(){var i;const n=C(),s=t(g.selectCurrentUser),r=p.useRef(null),u=()=>{const o=r.current.innerText;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(o).then(()=>{alert("Copied to clipboard:")}).catch(a=>{console.error("Error copying to clipboard:",a)});else{const a=document.createElement("textarea");a.value=o,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),m.success("Copied")}},x=()=>{n(_.doFetch())},v=t(h.selectRows),c=t((i=h)==null?void 0:i.selectLoading);return p.useEffect(()=>{x()},[n]),e.jsxs("div",{className:"app__invitation",children:[e.jsx(f,{title:"Invitation",path:"/"}),e.jsx("div",{className:"invitation__absolute"}),e.jsxs("div",{className:"invitation__content",children:[e.jsx("div",{className:"invitation__logo",children:v.map(o=>{var a,l,d;return e.jsxs(e.Fragment,{children:[e.jsx("span",{children:o.name}),!c&&((a=o==null?void 0:o.photo[0])==null?void 0:a.downloadUrl)&&e.jsx("img",{src:(l=o==null?void 0:o.photo[0])==null?void 0:l.downloadUrl,alt:"",className:"logo__header"}),!c&&!((d=o==null?void 0:o.photo[0])!=null&&d.downloadUrl)&&e.jsx("img",{src:"/images/invitation/logo.png",alt:"",className:"invitation__"})]})})}),e.jsxs("div",{className:"invitation__details",children:[e.jsx("span",{children:"My Referral Code"}),e.jsx("span",{className:"reference__code",ref:r,style:{cursor:"pointer"},children:s==null?void 0:s.refcode}),e.jsx("div",{className:"invitation__button",onClick:u,children:"Copy referral Code"})]})]})]})}export{N as default};
